#!/bin/sh

# Script by www.seguridadwireless.net

SCRIPT_VERSION=20151122

############################################################
## Funciones comunes. Su nombre empieza por f_ ##
############################################################
f_variables(){
	. /opt/wifislax-updaters/Funciones/funciones_updater
}

############################################################
## Funciones propias del script. Su nombre empieza por F_ ##
############################################################
# Definicion de variables
F_variables() {
	PRGNAM=openconnect
	echo -ne "\033]2;${PRGNAM}_updater\007"
	WEB=ftp://ftp.infradead.org/pub/openconnect/
	VERSION=`curl -s $WEB|grep tar.gz|grep -v .asc|tail -1|rev|cut -d- -f-1|rev|cut -d t -f-1|sed 's/.$//g'`
	EXTENSION=tar.gz
	SOURCES=$PRGNAM-$VERSION.$EXTENSION
	DOWNLOAD=${WEB}${SOURCES}
}

# Descomprimimos el fichero descargado y compilamos
F_compilar(){
echo 
echo "$VERDE"Configurando ..."$CIERRE"
sleep 1
CFLAGS="$SLKCFLAGS" \
./configure \
  --prefix=/usr \
  --libdir=/usr/lib${LIBDIRSUFFIX} \
  --sysconfdir=/etc \
  --localstatedir=/var \
  --mandir=/usr/man \
  --docdir=/usr/doc/$PRGNAM-$VERSION \
  --with-vpnc-script=/etc/vpnc/vpnc-script \
  --build=$ARCH-slackware-linux

echo 
echo "$VERDE"Compilando ..."$CIERRE"
sleep 1
make || exit 1
make install DESTDIR=$PKG || exit 1
mkdir -p $PKG/etc/vpnc
echo "IyEvYmluL3NoCiMKIyBPcmlnaW5hbGx5IHBhcnQgb2YgdnBuYyBzb3VyY2UgY29kZToKIyDCqSAy
MDA1LTIwMTIgTWF1cmljZSBNYXNzYXIsIErDtnJnIE1heWVyLCBBbnRvbmlvIEJvcm5lbyBldCBh
bC4KIyDCqSAyMDA5LTIwMTIgRGF2aWQgV29vZGhvdXNlIDxkd213MkBpbmZyYWRlYWQub3JnPgoj
CiMgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0
IGFuZC9vciBtb2RpZnkKIyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1
YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQojIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRp
b247IGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vuc2UsIG9yCiMgKGF0IHlvdXIgb3B0aW9u
KSBhbnkgbGF0ZXIgdmVyc2lvbi4KIwojIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0
aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAojIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5U
WTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiMgTUVSQ0hBTlRBQklMSVRZ
IG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQojIEdOVSBHZW5l
cmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiMKIyBZb3Ugc2hvdWxkIGhhdmUg
cmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQojIGFsb25n
IHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCiMg
Rm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1B
ICAwMjExMC0xMzAxICBVU0EKIwojIyMjIyMjIyMjIyMjIyMjCiMKIyBMaXN0IG9mIHBhcmFtZXRl
cnMgcGFzc2VkIHRocm91Z2ggZW52aXJvbm1lbnQKIyogcmVhc29uICAgICAgICAgICAgICAgICAg
ICAgICAtLSB3aHkgdGhpcyBzY3JpcHQgd2FzIGNhbGxlZCwgb25lIG9mOiBwcmUtaW5pdCBjb25u
ZWN0IGRpc2Nvbm5lY3QKIyogVlBOR0FURVdBWSAgICAgICAgICAgICAgICAgICAtLSB2cG4gZ2F0
ZXdheSBhZGRyZXNzIChhbHdheXMgcHJlc2VudCkKIyogVFVOREVWICAgICAgICAgICAgICAgICAg
ICAgICAtLSB0dW5uZWwgZGV2aWNlIChhbHdheXMgcHJlc2VudCkKIyogSU5URVJOQUxfSVA0X0FE
RFJFU1MgICAgICAgICAtLSBhZGRyZXNzIChhbHdheXMgcHJlc2VudCkKIyogSU5URVJOQUxfSVA0
X01UVSAgICAgICAgICAgICAtLSBtdHUgKG9mdGVuIHVuc2V0KQojKiBJTlRFUk5BTF9JUDRfTkVU
TUFTSyAgICAgICAgIC0tIG5ldG1hc2sgKG9mdGVuIHVuc2V0KQojKiBJTlRFUk5BTF9JUDRfTkVU
TUFTS0xFTiAgICAgIC0tIG5ldG1hc2sgbGVuZ3RoIChvZnRlbiB1bnNldCkKIyogSU5URVJOQUxf
SVA0X05FVEFERFIgICAgICAgICAtLSBhZGRyZXNzIG9mIG5ldHdvcmsgKG9ubHkgcHJlc2VudCBp
ZiBuZXRtYXNrIGlzIHNldCkKIyogSU5URVJOQUxfSVA0X0ROUyAgICAgICAgICAgICAtLSBsaXN0
IG9mIGRucyBzZXJ2ZXJzCiMqIElOVEVSTkFMX0lQNF9OQk5TICAgICAgICAgICAgLS0gbGlzdCBv
ZiB3aW5zIHNlcnZlcnMKIyogSU5URVJOQUxfSVA2X0FERFJFU1MgICAgICAgICAtLSBJUHY2IGFk
ZHJlc3MKIyogSU5URVJOQUxfSVA2X05FVE1BU0sgICAgICAgICAtLSBJUHY2IG5ldG1hc2sKIyog
SU5URVJOQUxfSVA2X0ROUyAgICAgICAgICAgICAtLSBJUHY2IGxpc3Qgb2YgZG5zIHNlcnZlcnMK
IyogQ0lTQ09fREVGX0RPTUFJTiAgICAgICAgICAgICAtLSBkZWZhdWx0IGRvbWFpbiBuYW1lCiMq
IENJU0NPX0JBTk5FUiAgICAgICAgICAgICAgICAgLS0gYmFubmVyIGZyb20gc2VydmVyCiMqIENJ
U0NPX1NQTElUX0lOQyAgICAgICAgICAgICAgLS0gbnVtYmVyIG9mIG5ldHdvcmtzIGluIHNwbGl0
LW5ldHdvcmstbGlzdAojKiBDSVNDT19TUExJVF9JTkNfJWRfQUREUiAgICAgIC0tIG5ldHdvcmsg
YWRkcmVzcwojKiBDSVNDT19TUExJVF9JTkNfJWRfTUFTSyAgICAgIC0tIHN1Ym5ldCBtYXNrIChm
b3IgZXhhbXBsZTogMjU1LjI1NS4yNTUuMCkKIyogQ0lTQ09fU1BMSVRfSU5DXyVkX01BU0tMRU4g
ICAtLSBzdWJuZXQgbWFza2xlbiAoZm9yIGV4YW1wbGU6IDI0KQojKiBDSVNDT19TUExJVF9JTkNf
JWRfUFJPVE9DT0wgIC0tIHByb3RvY29sIChvZnRlbiBqdXN0IDApCiMqIENJU0NPX1NQTElUX0lO
Q18lZF9TUE9SVCAgICAgLS0gc291cmNlIHBvcnQgKG9mdGVuIGp1c3QgMCkKIyogQ0lTQ09fU1BM
SVRfSU5DXyVkX0RQT1JUICAgICAtLSBkZXN0aW5hdGlvbiBwb3J0IChvZnRlbiBqdXN0IDApCiMq
IENJU0NPX0lQVjZfU1BMSVRfSU5DICAgICAgICAgLS0gbnVtYmVyIG9mIG5ldHdvcmtzIGluIElQ
djYgc3BsaXQtbmV0d29yay1saXN0CiMqIENJU0NPX0lQVjZfU1BMSVRfSU5DXyVkX0FERFIgLS0g
SVB2NiBuZXR3b3JrIGFkZHJlc3MKIyogQ0lTQ09fSVBWNl9TUExJVF9JTkNfJCVkX01BU0tMRU4g
LS0gSVB2NiBzdWJuZXQgbWFza2xlbgoKIyBGSVhNRXM6CgojIFNlY3Rpb24gQTogcm91dGUgaGFu
ZGxpbmcKCiMgMSkgVGhlIDMgdmFsdWVzIENJU0NPX1NQTElUX0lOQ18lZF9QUk9UT0NPTC9TUE9S
VC9EUE9SVCBhcmUgY3VycmVudGx5IGJlaW5nIGlnbm9yZWQKIyAgIEluIG9yZGVyIHRvIHVzZSB0
aGVtLCB3ZSdsbCBwcm9iYWJseSBuZWVkIG9zIHNwZWNpZmljIHNvbHV0aW9ucwojICAgKiBMaW51
eDogaXB0YWJsZXMgLXQgbWFuZ2xlIC1JIFBSRVJPVVRJTkcgPGNvbmRpdGlvbnM+IC1qIFJPVVRF
IC0tb2lmICRUVU5ERVYKIyAgICAgICBUaGlzIHdvdWxkIGJlIGFuICphbHRlcm5hdGl2ZSogdG8g
Y2hhbmdpbmcgdGhlIHJvdXRlcyAoYW5kIHRodXMgMikgYW5kIDMpCiMgICAgICAgc2hvdWxkbid0
IGJlIHJlbGV2YW50IGF0IGFsbCkKIyAyKSBUaGVyZSBhcmUgdHdvIGRpZmZlcmVudCBmdW5jdGlv
bnMgdG8gc2V0IHJvdXRlczogZ2VuZXJpYyByb3V0ZXMgYW5kIHRoZQojICAgZGVmYXVsdCByb3V0
ZS4gV2h5IGlzbid0IHRoZSBkZWZhdWx0cm91dGUgaGFuZGxlZCB2aWEgdGhlIGdlbmVyaWMgcm91
dGUgY2FzZT8KIyAzKSBJbiB0aGUgc3BsaXQgdHVubmVsIGNhc2UsIGFsbCByb3V0ZXMgYnV0IHRo
ZSBkZWZhdWx0IHJvdXRlIG1pZ2h0IGdldCByZXBsYWNlZAojICAgd2l0aG91dCBnZXR0aW5nIHJl
c3RvcmVkIGxhdGVyLiBXZSBzaG91bGQgZXhwbGljaXRlbHkgY2hlY2sgYW5kIHNhdmUgdGhlbSBq
dXN0CiMgICBsaWtlIHRoZSBkZWZhdWx0cm91dGUKIyA0KSBSZXBsaWVzIHRvIGEgZGhjcC1zZXJ2
ZXIgc2hvdWxkIG5ldmVyIGJlIHNlbnQgaW50byB0aGUgdHVubmVsCgojIFNlY3Rpb24gQjogU3Bs
aXQgRE5TIGhhbmRsaW5nCgojIDEpIE1heWJlIGRuc21hc3EgY2FuIGRvIHNvbWV0aGluZyBsaWtl
IHRoYXQKIyAyKSBQYXJzZSBkbnMgcGFja2V0cyBnb2luZyBvdXQgdmlhIHR1bm5lbCBhbmQgcmVk
aXJlY3QgdGhlbSB0byBvcmlnaW5hbCBkbnMtc2VydmVyCgojZW52IHwgc29ydAojc2V0IC14Cgoj
ID09PT09PT09PT09IHNjcmlwdCAodmFyaWFibGUpIHNldHVwID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQoKUEFUSD0vc2JpbjovdXNyL3NiaW46JFBBVEgKCk9TPSJgdW5hbWUg
LXNgIgoKSE9PS1NfRElSPS9ldGMvdnBuYwpERUZBVUxUX1JPVVRFX0ZJTEU9L3Zhci9ydW4vdnBu
Yy9kZWZhdWx0cm91dGUKUkVTT0xWX0NPTkZfQkFDS1VQPS92YXIvcnVuL3ZwbmMvcmVzb2x2LmNv
bmYtYmFja3VwClNDUklQVE5BTUU9YGJhc2VuYW1lICQwYAoKIyBzb21lIHN5c3RlbXMsIGVnLiBE
YXJ3aW4gJiBGcmVlQlNELCBwcnVuZSAvdmFyL3J1biBvbiBib290CmlmIFsgISAtZCAiL3Zhci9y
dW4vdnBuYyIgXTsgdGhlbgoJbWtkaXIgLXAgL3Zhci9ydW4vdnBuYwoJWyAteCAvc2Jpbi9yZXN0
b3JlY29uIF0gJiYgL3NiaW4vcmVzdG9yZWNvbiAvdmFyL3J1bi92cG5jCmZpCgojIHN0dXBpZCBT
dW5PUzogbm8gYmx1YmJlciBpbiAvdXNyL2xvY2FsL2JpbiAuLi4gKG9uIHN0ZG91dCkKSVBST1VU
RT0iYHdoaWNoIGlwIHwgZ3JlcCAnXi8nYCIgMj4gL2Rldi9udWxsCgppZiBpZmNvbmZpZyAtLWhl
bHAgMj4mMSB8IGdyZXAgQnVzeUJveCA+IC9kZXYvbnVsbDsgdGhlbgoJaWZjb25maWdfc3ludGF4
X2luZXQ9IiIKZWxzZQoJaWZjb25maWdfc3ludGF4X2luZXQ9ImluZXQiCmZpCgppZiBbICIkT1Mi
ID0gIkxpbnV4IiBdOyB0aGVuCglpZmNvbmZpZ19zeW50YXhfcHRwPSJwb2ludG9wb2ludCIKCXJv
dXRlX3N5bnRheF9ndz0iZ3ciCglyb3V0ZV9zeW50YXhfZGVsPSJkZWwiCglyb3V0ZV9zeW50YXhf
bmV0bWFzaz0ibmV0bWFzayIKZWxzZQoJaWZjb25maWdfc3ludGF4X3B0cD0iIgoJcm91dGVfc3lu
dGF4X2d3PSIiCglyb3V0ZV9zeW50YXhfZGVsPSJkZWxldGUiCglyb3V0ZV9zeW50YXhfbmV0bWFz
az0iLW5ldG1hc2siCmZpCmlmIFsgIiRPUyIgPSAiU3VuT1MiIF07IHRoZW4KCXJvdXRlX3N5bnRh
eF9pbnRlcmZhY2U9Ii1pbnRlcmZhY2UiCglpZmNvbmZpZ19zeW50YXhfcHRwdjY9IiRJTlRFUk5B
TF9JUDZfQUREUkVTUyIKZWxzZQoJcm91dGVfc3ludGF4X2ludGVyZmFjZT0iIgoJaWZjb25maWdf
c3ludGF4X3B0cHY2PSIiCmZpCgppZiBbIC1yIC9ldGMvb3BlbndydF9yZWxlYXNlIF0gJiYgWyAt
biAiJE9QRU5XUlRfSU5URVJGQUNFIiBdOyB0aGVuCiAgICAgICAgLiAvZXRjL2Z1bmN0aW9ucy5z
aAoJaW5jbHVkZSAvbGliL25ldHdvcmsKCU1PRElGWVJFU09MVkNPTkY9bW9kaWZ5X3Jlc29sdmNv
bmZfb3BlbndydAoJUkVTVE9SRVJFU09MVkNPTkY9cmVzdG9yZV9yZXNvbHZjb25mX29wZW53cnQK
ZWxpZiBbIC14IC9zYmluL3Jlc29sdmNvbmYgXTsgdGhlbiAjIE9wdGlvbmFsIHRvb2wgb24gRGVi
aWFuLCBVYnVudHUsIEdlbnRvbwoJTU9ESUZZUkVTT0xWQ09ORj1tb2RpZnlfcmVzb2x2Y29uZl9t
YW5hZ2VyCglSRVNUT1JFUkVTT0xWQ09ORj1yZXN0b3JlX3Jlc29sdmNvbmZfbWFuYWdlcgplbGlm
IFsgLXggL3NiaW4vbmV0Y29uZmlnLXN1c2UgXSAmJiBbICEgLWYgL2V0Yy9zbGFja3dhcmUtdmVy
c2lvbiBdOyB0aGVuICMgdG9vbCBvbiBTdXNlIGFmdGVyIDExLjEKCU1PRElGWVJFU09MVkNPTkY9
bW9kaWZ5X3Jlc29sdmNvbmZfc3VzZV9uZXRjb25maWcKCVJFU1RPUkVSRVNPTFZDT05GPXJlc3Rv
cmVfcmVzb2x2Y29uZl9zdXNlX25ldGNvbmZpZwplbGlmIFsgLXggL3NiaW4vbW9kaWZ5X3Jlc29s
dmNvbmYgXTsgdGhlbiAjIE1hbmRhdG9yeSB0b29sIG9uIFN1c2UgZWFybGllciB0aGFuIDExLjEK
CU1PRElGWVJFU09MVkNPTkY9bW9kaWZ5X3Jlc29sdmNvbmZfc3VzZQoJUkVTVE9SRVJFU09MVkNP
TkY9cmVzdG9yZV9yZXNvbHZjb25mX3N1c2UKZWxzZSAjIEdlbmVyaWMgZm9yIGFueSBPUwoJTU9E
SUZZUkVTT0xWQ09ORj1tb2RpZnlfcmVzb2x2Y29uZl9nZW5lcmljCglSRVNUT1JFUkVTT0xWQ09O
Rj1yZXN0b3JlX3Jlc29sdmNvbmZfZ2VuZXJpYwpmaQoKCiMgPT09PT09PT09PT0gc2NyaXB0IGhv
b2tzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCnJ1
bl9ob29rcygpIHsKCUhPT0s9IiQxIgoKCWlmIFsgLWQgJHtIT09LU19ESVJ9LyR7SE9PS30uZCBd
OyB0aGVuCgkgICAgZm9yIHNjcmlwdCBpbiAke0hPT0tTX0RJUn0vJHtIT09LfS5kLyogOyBkbwoJ
CVsgLWYgJHNjcmlwdCBdICYmIC4gJHNjcmlwdAoJICAgIGRvbmUKCWZpCn0KCiMgPT09PT09PT09
PT0gdHVubmVsIGludGVyZmFjZSBoYW5kbGluZyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KCmRvX2lmY29uZmlnKCkgewoJaWYgWyAtbiAiJElOVEVSTkFMX0lQNF9NVFUiIF07
IHRoZW4KCQlNVFU9JElOVEVSTkFMX0lQNF9NVFUKCWVsaWYgWyAtbiAiJElQUk9VVEUiIF07IHRo
ZW4KCQlNVFVERVY9YCRJUFJPVVRFIHJvdXRlIGdldCAiJFZQTkdBVEVXQVkiIHwgc2VkIC1uZSAn
cy9eLipkZXYgXChbYS16MC05XSpcKS4qJC9cMS9wJ2AKCQlNVFU9YCRJUFJPVVRFIGxpbmsgc2hv
dyAiJE1UVURFViIgfCBzZWQgLW5lICdzL14uKm10dSBcKFtbOmRpZ2l0Ol1dXCtcKS4qJC9cMS9w
J2AKCQlpZiBbIC1uICIkTVRVIiBdOyB0aGVuCgkJCU1UVT1gZXhwciAkTVRVIC0gODhgCgkJZmkK
CWZpCgoJaWYgWyAteiAiJE1UVSIgXTsgdGhlbgoJCU1UVT0xNDEyCglmaQoKCSMgUG9pbnQgdG8g
cG9pbnQgaW50ZXJmYWNlIHJlcXVpcmUgYSBuZXRtYXNrIG9mIDI1NS4yNTUuMjU1LjI1NSBvbiBz
b21lIHN5c3RlbXMKCWlmIFsgLW4gIiRJUFJPVVRFIiBdOyB0aGVuCgkJJElQUk9VVEUgbGluayBz
ZXQgZGV2ICIkVFVOREVWIiB1cCBtdHUgIiRNVFUiCgkJJElQUk9VVEUgYWRkciBhZGQgIiRJTlRF
Uk5BTF9JUDRfQUREUkVTUy8zMiIgcGVlciAiJElOVEVSTkFMX0lQNF9BRERSRVNTIiBkZXYgIiRU
VU5ERVYiCgllbHNlCgkJaWZjb25maWcgIiRUVU5ERVYiICR7aWZjb25maWdfc3ludGF4X2luZXR9
ICIkSU5URVJOQUxfSVA0X0FERFJFU1MiICRpZmNvbmZpZ19zeW50YXhfcHRwICIkSU5URVJOQUxf
SVA0X0FERFJFU1MiIG5ldG1hc2sgMjU1LjI1NS4yNTUuMjU1IG10dSAke01UVX0gdXAKCWZpCgoJ
aWYgWyAtbiAiJElOVEVSTkFMX0lQNF9ORVRNQVNLIiBdOyB0aGVuCgkJc2V0X25ldHdvcmtfcm91
dGUgJElOVEVSTkFMX0lQNF9ORVRBRERSICRJTlRFUk5BTF9JUDRfTkVUTUFTSyAkSU5URVJOQUxf
SVA0X05FVE1BU0tMRU4KCWZpCgoJIyBJZiB0aGUgbmV0bWFzayBpcyBwcm92aWRlZCwgaXQgY29u
dGFpbnMgdGhlIGFkZHJlc3MgX2FuZF8gbmV0bWFzawoJaWYgWyAtbiAiJElOVEVSTkFMX0lQNl9B
RERSRVNTIiBdICYmIFsgLXogIiRJTlRFUk5BTF9JUDZfTkVUTUFTSyIgXTsgdGhlbgoJICAgIElO
VEVSTkFMX0lQNl9ORVRNQVNLPSIkSU5URVJOQUxfSVA2X0FERFJFU1MvMTI4IgoJZmkKCWlmIFsg
LW4gIiRJTlRFUk5BTF9JUDZfTkVUTUFTSyIgXTsgdGhlbgoJICAgIGlmIFsgLW4gIiRJUFJPVVRF
IiBdOyB0aGVuCgkJJElQUk9VVEUgLTYgYWRkciBhZGQgJElOVEVSTkFMX0lQNl9ORVRNQVNLIGRl
diAkVFVOREVWCgkgICAgZWxzZQoJCSMgVW5saWtlIGZvciBMZWdhY3kgSVAsIHdlIGRvbid0IHNw
ZWNpZnkgdGhlIGRlc3RfYWRkcmVzcwoJCSMgaGVyZSBvbiAqQlNELiBPcGVuQlNEIGZvciBvbmUg
d2lsbCByZWZ1c2UgdG8gYWNjZXB0CgkJIyBpbmNvbWluZyBwYWNrZXRzIHRvIHRoYXQgYWRkcmVz
cyBpZiB3ZSBkby4KCQkjIE9wZW5WUE4gZG9lcyB0aGUgc2FtZSAoZ2l2ZXMgZGVzdF9hZGRyZXNz
IGZvciBMZWdhY3kgSVAKCQkjIGJ1dCBub3QgZm9yIElQdjYpLgoJCSMgT25seSBTb2xhcmlzIG5l
ZWRzIGl0OyBoZW5jZSAkaWZjb25maWdfc3ludGF4X3B0cHY2CgkgICAgICAgIGlmY29uZmlnICIk
VFVOREVWIiBpbmV0NiAkSU5URVJOQUxfSVA2X05FVE1BU0sgJGlmY29uZmlnX3N5bnRheF9wdHB2
NiBtdHUgJE1UVSB1cAoJICAgIGZpCglmaQp9CgpkZXN0cm95X3R1bl9kZXZpY2UoKSB7CgljYXNl
ICIkT1MiIGluCglOZXRCU0R8RnJlZUJTRCkgIyBhbmQgcHJvYmFibHkgb3RoZXJzLi4uCgkJaWZj
b25maWcgIiRUVU5ERVYiIGRlc3Ryb3kKCQk7OwoJZXNhYwp9CgojID09PT09PT09PT09IHJvdXRl
IGhhbmRsaW5nID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKaWYgWyAtbiAi
JElQUk9VVEUiIF07IHRoZW4KCWZpeF9pcF9nZXRfb3V0cHV0ICgpIHsKCQlzZWQgLWUgJ3MvIC9c
bi9nJyB8IFwKCQkgICAgc2VkIC1uZSAnMXA7L3ZpYS97TjtwfTsvZGV2L3tOO3B9Oy9zcmMve047
cH07L210dS97TjtwfScKCX0KCglzZXRfdnBuZ2F0ZXdheV9yb3V0ZSgpIHsKCQkkSVBST1VURSBy
b3V0ZSBhZGQgYCRJUFJPVVRFIHJvdXRlIGdldCAiJFZQTkdBVEVXQVkiIHwgZml4X2lwX2dldF9v
dXRwdXRgCgkJJElQUk9VVEUgcm91dGUgZmx1c2ggY2FjaGUKCX0KCglkZWxfdnBuZ2F0ZXdheV9y
b3V0ZSgpIHsKCQkkSVBST1VURSByb3V0ZSAkcm91dGVfc3ludGF4X2RlbCAiJFZQTkdBVEVXQVki
CgkJJElQUk9VVEUgcm91dGUgZmx1c2ggY2FjaGUKCX0KCglzZXRfZGVmYXVsdF9yb3V0ZSgpIHsK
CQkkSVBST1VURSByb3V0ZSB8IGdyZXAgJ15kZWZhdWx0JyB8IGZpeF9pcF9nZXRfb3V0cHV0ID4g
IiRERUZBVUxUX1JPVVRFX0ZJTEUiCgkJJElQUk9VVEUgcm91dGUgcmVwbGFjZSBkZWZhdWx0IGRl
diAiJFRVTkRFViIKCQkkSVBST1VURSByb3V0ZSBmbHVzaCBjYWNoZQoJfQoKCXNldF9uZXR3b3Jr
X3JvdXRlKCkgewoJCU5FVFdPUks9IiQxIgoJCU5FVE1BU0s9IiQyIgoJCU5FVE1BU0tMRU49IiQz
IgoJCSRJUFJPVVRFIHJvdXRlIHJlcGxhY2UgIiRORVRXT1JLLyRORVRNQVNLTEVOIiBkZXYgIiRU
VU5ERVYiCgkJJElQUk9VVEUgcm91dGUgZmx1c2ggY2FjaGUKCX0KCglyZXNldF9kZWZhdWx0X3Jv
dXRlKCkgewoJCWlmIFsgLXMgIiRERUZBVUxUX1JPVVRFX0ZJTEUiIF07IHRoZW4KCQkJJElQUk9V
VEUgcm91dGUgcmVwbGFjZSBgY2F0ICIkREVGQVVMVF9ST1VURV9GSUxFImAKCQkJJElQUk9VVEUg
cm91dGUgZmx1c2ggY2FjaGUKCQkJcm0gLWYgLS0gIiRERUZBVUxUX1JPVVRFX0ZJTEUiCgkJZmkK
CX0KCglkZWxfbmV0d29ya19yb3V0ZSgpIHsKCQlORVRXT1JLPSIkMSIKCQlORVRNQVNLPSIkMiIK
CQlORVRNQVNLTEVOPSIkMyIKCQkkSVBST1VURSByb3V0ZSAkcm91dGVfc3ludGF4X2RlbCAiJE5F
VFdPUksvJE5FVE1BU0tMRU4iIGRldiAiJFRVTkRFViIKCQkkSVBST1VURSByb3V0ZSBmbHVzaCBj
YWNoZQoJfQoKCXNldF9pcHY2X2RlZmF1bHRfcm91dGUoKSB7CgkJIyBXZSBkb24ndCBzYXZlL3Jl
c3RvcmUgSVB2NiBkZWZhdWx0IHJvdXRlOyBqdXN0IGFkZCBhIGhpZ2hlci1wcmlvcml0eSBvbmUu
CgkJJElQUk9VVEUgLTYgcm91dGUgYWRkIGRlZmF1bHQgZGV2ICIkVFVOREVWIiBtZXRyaWMgMQoJ
CSRJUFJPVVRFIC02IHJvdXRlIGZsdXNoIGNhY2hlCgl9CgoJc2V0X2lwdjZfbmV0d29ya19yb3V0
ZSgpIHsKCQlORVRXT1JLPSIkMSIKCQlORVRNQVNLTEVOPSIkMiIKCQkkSVBST1VURSAtNiByb3V0
ZSByZXBsYWNlICIkTkVUV09SSy8kTkVUTUFTS0xFTiIgZGV2ICIkVFVOREVWIgoJCSRJUFJPVVRF
IHJvdXRlIGZsdXNoIGNhY2hlCgl9CgoJcmVzZXRfaXB2Nl9kZWZhdWx0X3JvdXRlKCkgewoJCSRJ
UFJPVVRFIC02IHJvdXRlIGRlbCBkZWZhdWx0IGRldiAiJFRVTkRFViIKCQkkSVBST1VURSByb3V0
ZSBmbHVzaCBjYWNoZQoJfQoKCWRlbF9pcHY2X25ldHdvcmtfcm91dGUoKSB7CgkJTkVUV09SSz0i
JDEiCgkJTkVUTUFTS0xFTj0iJDIiCgkJJElQUk9VVEUgLTYgcm91dGUgZGVsICIkTkVUV09SSy8k
TkVUTUFTS0xFTiIgZGV2ICIkVFVOREVWIgoJCSRJUFJPVVRFIC02IHJvdXRlIGZsdXNoIGNhY2hl
Cgl9CmVsc2UgIyB1c2Ugcm91dGUgY29tbWFuZAoJZ2V0X2RlZmF1bHRfZ3coKSB7CgkJIyBpc24n
dCAtbiBzdXBwb3NlZCB0byBnaXZlIC0tbnVtZXJpYyBvdXRwdXQ/CgkJIyBhcHBlcmVudGx5IG5v
dC4uLgoJCSMgR2V0IHJpZCBvZiBsaW5lcyBjb250YWluaW5nIElQdjYgYWRkcmVzc2VzICgnOicp
CgkJbmV0c3RhdCAtciAtbiB8IGF3ayAnLzovIHsgbmV4dDsgfSAvXihkZWZhdWx0fDBcLjBcLjBc
LjApLyB7IHByaW50ICQyOyB9JwoJfQoKCXNldF92cG5nYXRld2F5X3JvdXRlKCkgewoJCXJvdXRl
IGFkZCAtaG9zdCAiJFZQTkdBVEVXQVkiICRyb3V0ZV9zeW50YXhfZ3cgImBnZXRfZGVmYXVsdF9n
d2AiCgl9CgoJZGVsX3ZwbmdhdGV3YXlfcm91dGUoKSB7CgkJcm91dGUgJHJvdXRlX3N5bnRheF9k
ZWwgLWhvc3QgIiRWUE5HQVRFV0FZIiAkcm91dGVfc3ludGF4X2d3ICJgZ2V0X2RlZmF1bHRfZ3dg
IgoJfQoKCXNldF9kZWZhdWx0X3JvdXRlKCkgewoJCURFRkFVTFRHVz0iYGdldF9kZWZhdWx0X2d3
YCIKCQllY2hvICIkREVGQVVMVEdXIiA+ICIkREVGQVVMVF9ST1VURV9GSUxFIgoJCXJvdXRlICRy
b3V0ZV9zeW50YXhfZGVsIGRlZmF1bHQgJHJvdXRlX3N5bnRheF9ndyAiJERFRkFVTFRHVyIKCQly
b3V0ZSBhZGQgZGVmYXVsdCAkcm91dGVfc3ludGF4X2d3ICIkSU5URVJOQUxfSVA0X0FERFJFU1Mi
ICRyb3V0ZV9zeW50YXhfaW50ZXJmYWNlCgl9CgoJc2V0X25ldHdvcmtfcm91dGUoKSB7CgkJTkVU
V09SSz0iJDEiCgkJTkVUTUFTSz0iJDIiCgkJTkVUTUFTS0xFTj0iJDMiCgkJZGVsX25ldHdvcmtf
cm91dGUgIiRORVRXT1JLIiAiJE5FVE1BU0siICIkTkVUTUFTS0xFTiIKCQlyb3V0ZSBhZGQgLW5l
dCAiJE5FVFdPUksiICRyb3V0ZV9zeW50YXhfbmV0bWFzayAiJE5FVE1BU0siICRyb3V0ZV9zeW50
YXhfZ3cgIiRJTlRFUk5BTF9JUDRfQUREUkVTUyIgJHJvdXRlX3N5bnRheF9pbnRlcmZhY2UKCX0K
CglyZXNldF9kZWZhdWx0X3JvdXRlKCkgewoJCWlmIFsgLXMgIiRERUZBVUxUX1JPVVRFX0ZJTEUi
IF07IHRoZW4KCQkJcm91dGUgJHJvdXRlX3N5bnRheF9kZWwgZGVmYXVsdCAkcm91dGVfc3ludGF4
X2d3ICJgZ2V0X2RlZmF1bHRfZ3dgIiAkcm91dGVfc3ludGF4X2ludGVyZmFjZQoJCQlyb3V0ZSBh
ZGQgZGVmYXVsdCAkcm91dGVfc3ludGF4X2d3IGBjYXQgIiRERUZBVUxUX1JPVVRFX0ZJTEUiYAoJ
CQlybSAtZiAtLSAiJERFRkFVTFRfUk9VVEVfRklMRSIKCQlmaQoJfQoKCWRlbF9uZXR3b3JrX3Jv
dXRlKCkgewoJCWNhc2UgIiRPUyIgaW4KCQlMaW51eHxOZXRCU0R8RGFyd2lufFN1bk9TKSAjIGFu
ZCBwcm9iYWJseSBvdGhlcnMuLi4KCQkJIyByb3V0ZXMgYXJlIGRlbGV0ZWQgYXV0b21hdGljYWxs
eSBvbiBkZXZpY2Ugc2h1dGRvd24KCQkJcmV0dXJuCgkJCTs7CgkJZXNhYwoJCU5FVFdPUks9IiQx
IgoJCU5FVE1BU0s9IiQyIgoJCU5FVE1BU0tMRU49IiQzIgoJCXJvdXRlICRyb3V0ZV9zeW50YXhf
ZGVsIC1uZXQgIiRORVRXT1JLIiAkcm91dGVfc3ludGF4X25ldG1hc2sgIiRORVRNQVNLIiAkcm91
dGVfc3ludGF4X2d3ICIkSU5URVJOQUxfSVA0X0FERFJFU1MiCgl9CgoJc2V0X2lwdjZfZGVmYXVs
dF9yb3V0ZSgpIHsKCQlyb3V0ZSBhZGQgLWluZXQ2IGRlZmF1bHQgIiRJTlRFUk5BTF9JUDZfQURE
UkVTUyIgJHJvdXRlX3N5bnRheF9pbnRlcmZhY2UKCX0KCglzZXRfaXB2Nl9uZXR3b3JrX3JvdXRl
KCkgewoJCU5FVFdPUks9IiQxIgoJCU5FVE1BU0s9IiQyIgoJCXJvdXRlIGFkZCAtaW5ldDYgLW5l
dCAiJE5FVFdPUksvJE5FVE1BU0siICIkSU5URVJOQUxfSVA2X0FERFJFU1MiICRyb3V0ZV9zeW50
YXhfaW50ZXJmYWNlCgkJOgoJfQoKCXJlc2V0X2lwdjZfZGVmYXVsdF9yb3V0ZSgpIHsKCQlyb3V0
ZSAkcm91dGVfc3ludGF4X2RlbCAtaW5ldDYgZGVmYXVsdCAiJElOVEVSTkFMX0lQNl9BRERSRVNT
IgoJCToKCX0KCglkZWxfaXB2Nl9uZXR3b3JrX3JvdXRlKCkgewoJCU5FVFdPUks9IiQxIgoJCU5F
VE1BU0s9IiQyIgoJCXJvdXRlICRyb3V0ZV9zeW50YXhfZGVsIC1pbmV0NiAiJE5FVFdPUksvJE5F
VE1BU0siICIkSU5URVJOQUxfSVA2X0FERFJFU1MiCgkJOgoJfQoKZmkKCiMgPT09PT09PT09PT0g
cmVzb2x2LmNvbmYgaGFuZGxpbmcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
CgojID09PT09PT09PT09IHJlc29sdi5jb25mIGhhbmRsaW5nIGZvciBhbnkgT1MgPT09PT09PT09
PT09PT09PT09PT09PT09PQoKbW9kaWZ5X3Jlc29sdmNvbmZfZ2VuZXJpYygpIHsKCWdyZXAgJ14j
QFZQTkNfR0VORVJBVEVEQCcgL2V0Yy9yZXNvbHYuY29uZiA+IC9kZXYvbnVsbCAyPiYxIHx8IGNw
IC0tIC9ldGMvcmVzb2x2LmNvbmYgIiRSRVNPTFZfQ09ORl9CQUNLVVAiCglORVdfUkVTT0xWQ09O
Rj0iI0BWUE5DX0dFTkVSQVRFREAgLS0gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSB2cG5jCiMg
YW5kIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdnBuYwojIGFzIGxvbmcgYXMgdGhlIGFib3ZlIG1h
cmsgaXMgaW50YWN0IgoKCSMgUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlIG9mIENJU0NPX0RF
Rl9ET01BSU4gd2UgbmVlZCBpdCBsYXRlcgoJQ0lTQ09fREVGX0RPTUFJTl9PUklHPSIkQ0lTQ09f
REVGX0RPTUFJTiIKCSMgRG9uJ3Qgc3RlcCBvbiBJTlRFUk5BTF9JUDRfRE5TIHZhbHVlLCB1c2Ug
YSB0ZW1wb3JhcnkgdmFyaWFibGUKCUlOVEVSTkFMX0lQNF9ETlNfVEVNUD0iJElOVEVSTkFMX0lQ
NF9ETlMiCglleGVjIDY8ICIkUkVTT0xWX0NPTkZfQkFDS1VQIgoJd2hpbGUgcmVhZCBMSU5FIDwm
NiA7IGRvCgkJY2FzZSAiJExJTkUiIGluCgkJCW5hbWVzZXJ2ZXIqKQoJCQkJaWYgWyAtbiAiJElO
VEVSTkFMX0lQNF9ETlNfVEVNUCIgXTsgdGhlbgoJCQkJCXJlYWQgT05FX05BTUVTRVJWRVIgSU5U
RVJOQUxfSVA0X0ROU19URU1QIDw8LUVPRgoJJElOVEVSTkFMX0lQNF9ETlNfVEVNUApFT0YKCQkJ
CQlMSU5FPSJuYW1lc2VydmVyICRPTkVfTkFNRVNFUlZFUiIKCQkJCWVsc2UKCQkJCQlMSU5FPSIi
CgkJCQlmaQoJCQkJOzsKCQkJc2VhcmNoKikKCQkJCWlmIFsgLW4gIiRDSVNDT19ERUZfRE9NQUlO
IiBdOyB0aGVuCgkJCQkJTElORT0iJExJTkUgJENJU0NPX0RFRl9ET01BSU4iCgkJCQkJQ0lTQ09f
REVGX0RPTUFJTj0iIgoJCQkJZmkKCQkJCTs7CgkJCWRvbWFpbiopCgkJCQlpZiBbIC1uICIkQ0lT
Q09fREVGX0RPTUFJTiIgXTsgdGhlbgoJCQkJCUxJTkU9ImRvbWFpbiAkQ0lTQ09fREVGX0RPTUFJ
TiIKCQkJCQlDSVNDT19ERUZfRE9NQUlOPSIiCgkJCQlmaQoJCQkJOzsKCQllc2FjCgkJTkVXX1JF
U09MVkNPTkY9IiRORVdfUkVTT0xWQ09ORgokTElORSIKCWRvbmUKCWV4ZWMgNjwmLQoKCWZvciBp
IGluICRJTlRFUk5BTF9JUDRfRE5TX1RFTVAgOyBkbwoJCU5FV19SRVNPTFZDT05GPSIkTkVXX1JF
U09MVkNPTkYKbmFtZXNlcnZlciAkaSIKCWRvbmUKCWlmIFsgLW4gIiRDSVNDT19ERUZfRE9NQUlO
IiBdOyB0aGVuCgkJTkVXX1JFU09MVkNPTkY9IiRORVdfUkVTT0xWQ09ORgpzZWFyY2ggJENJU0NP
X0RFRl9ET01BSU4iCglmaQoJZWNobyAiJE5FV19SRVNPTFZDT05GIiA+IC9ldGMvcmVzb2x2LmNv
bmYKCglpZiBbICIkT1MiID0gIkRhcndpbiIgXTsgdGhlbgoJCWNhc2UgImB1bmFtZSAtcmAiIGlu
CgkJCSMgU2tpcCBmb3IgcHJlLTEwLjQgc3lzdGVtcwoJCQk0Lip8NS4qfDYuKnw3LiopCgkJCQk7
OwoJCQkjIDEwLjQgYW5kIGxhdGVyIHJlcXVpcmUgdXNlIG9mIHNjdXRpbCBmb3IgRE5TIHRvIHdv
cmsgcHJvcGVybHkKCQkJKikKCQkJCU9WRVJSSURFX1BSSU1BUlk9IiIKCQkJCWlmIFsgLW4gIiRD
SVNDT19TUExJVF9JTkMiIF07IHRoZW4KCQkJCQlpZiBbICRDSVNDT19TUExJVF9JTkMgLWx0IDEg
XTsgdGhlbgoJCQkJCQkjIE11c3Qgb3ZlcnJpZGUgZm9yIGNvcnJlY3QgZGVmYXVsdCByb3V0ZQoJ
CQkJCQkjIENhbm5vdCB1c2UgbXVsdGlwbGUgRE5TIG1hdGNoaW5nIGluIHRoaXMgY2FzZQoJCQkJ
CQlPVkVSUklERV9QUklNQVJZPSdkLmFkZCBPdmVycmlkZVByaW1hcnkgIyAxJwoJCQkJCWZpCgkJ
CQlmaQoJCQkJIyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBpZi9maSBwYWlyIHRvIHVzZSBtdWx0
aXBsZQoJCQkJIyBETlMgbWF0Y2hpbmcgd2hlbiBhdmFpbGFibGUuICBXaGVuIG11bHRpcGxlIERO
UyBtYXRjaGluZwoJCQkJIyBpcyBwcmVzZW50LCBhbnl0aGluZyByZWFkaW5nIHRoZSAvZXRjL3Jl
c29sdi5jb25mIGZpbGUKCQkJCSMgZGlyZWN0bHkgd2lsbCBwcm9iYWJseSBub3Qgd29yayBhcyBp
bnRlbmRlZC4KCQkJCSNpZiBbIC16ICIkQ0lTQ09fREVGX0RPTUFJTl9PUklHIiBdOyB0aGVuCgkJ
CQkJIyBDYW5ub3QgdXNlIG11bHRpcGxlIEROUyBtYXRjaGluZyB3aXRob3V0IGEgZG9tYWluCgkJ
CQkJT1ZFUlJJREVfUFJJTUFSWT0nZC5hZGQgT3ZlcnJpZGVQcmltYXJ5ICMgMScKCQkJCSNmaQoJ
CQkJc2N1dGlsID4vZGV2L251bGwgMj4mMSA8PC1FT0YKCQkJCQlvcGVuCgkJCQkJZC5pbml0CgkJ
CQkJZC5hZGQgU2VydmVyQWRkcmVzc2VzICogJElOVEVSTkFMX0lQNF9ETlMKCQkJCQlzZXQgU3Rh
dGU6L05ldHdvcmsvU2VydmljZS8kVFVOREVWL0ROUwoJCQkJCWQuaW5pdAoJCQkJCSMgbmV4dCBs
aW5lIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCBnYXRld2F5IGFuZCBicmVha3Mgc3BsaXQgcm91dGlu
ZwoJCQkJCSMgZC5hZGQgUm91dGVyICRJTlRFUk5BTF9JUDRfQUREUkVTUwoJCQkJCWQuYWRkIEFk
ZHJlc3NlcyAqICRJTlRFUk5BTF9JUDRfQUREUkVTUwoJCQkJCWQuYWRkIFN1Ym5ldE1hc2tzICog
MjU1LjI1NS4yNTUuMjU1CgkJCQkJZC5hZGQgSW50ZXJmYWNlTmFtZSAkVFVOREVWCgkJCQkJJE9W
RVJSSURFX1BSSU1BUlkKCQkJCQlzZXQgU3RhdGU6L05ldHdvcmsvU2VydmljZS8kVFVOREVWL0lQ
djQKCQkJCQljbG9zZQoJCQkJRU9GCgkJCQlpZiBbIC1uICIkQ0lTQ09fREVGX0RPTUFJTl9PUklH
IiBdOyB0aGVuCgkJCQkJc2N1dGlsID4vZGV2L251bGwgMj4mMSA8PC1FT0YKCQkJCQkJb3BlbgoJ
CQkJCQlnZXQgU3RhdGU6L05ldHdvcmsvU2VydmljZS8kVFVOREVWL0ROUwoJCQkJCQlkLmFkZCBE
b21haW5OYW1lICRDSVNDT19ERUZfRE9NQUlOX09SSUcKCQkJCQkJZC5hZGQgU2VhcmNoRG9tYWlu
cyAqICRDSVNDT19ERUZfRE9NQUlOX09SSUcKCQkJCQkJZC5hZGQgU3VwcGxlbWVudGFsTWF0Y2hE
b21haW5zICogJENJU0NPX0RFRl9ET01BSU5fT1JJRwoJCQkJCQlzZXQgU3RhdGU6L05ldHdvcmsv
U2VydmljZS8kVFVOREVWL0ROUwoJCQkJCQljbG9zZQoJCQkJCUVPRgoJCQkJZmkKCQkJCTs7CgkJ
ZXNhYwoJZmkKfQoKcmVzdG9yZV9yZXNvbHZjb25mX2dlbmVyaWMoKSB7CglpZiBbICEgLWYgIiRS
RVNPTFZfQ09ORl9CQUNLVVAiIF07IHRoZW4KCQlyZXR1cm4KCWZpCglncmVwICdeI0BWUE5DX0dF
TkVSQVRFREAnIC9ldGMvcmVzb2x2LmNvbmYgPiAvZGV2L251bGwgMj4mMSAmJiBjYXQgIiRSRVNP
TFZfQ09ORl9CQUNLVVAiID4gL2V0Yy9yZXNvbHYuY29uZgoJcm0gLWYgLS0gIiRSRVNPTFZfQ09O
Rl9CQUNLVVAiCgoJaWYgWyAiJE9TIiA9ICJEYXJ3aW4iIF07IHRoZW4KCQljYXNlICJgdW5hbWUg
LXJgIiBpbgoJCQkjIFNraXAgZm9yIHByZS0xMC40IHN5c3RlbXMKCQkJNC4qfDUuKnw2Lip8Ny4q
KQoJCQkJOzsKCQkJIyAxMC40IGFuZCBsYXRlciByZXF1aXJlIHVzZSBvZiBzY3V0aWwgZm9yIERO
UyB0byB3b3JrIHByb3Blcmx5CgkJCSopCgkJCQlzY3V0aWwgPi9kZXYvbnVsbCAyPiYxIDw8LUVP
RgoJCQkJCW9wZW4KCQkJCQlyZW1vdmUgU3RhdGU6L05ldHdvcmsvU2VydmljZS8kVFVOREVWL0lQ
djQKCQkJCQlyZW1vdmUgU3RhdGU6L05ldHdvcmsvU2VydmljZS8kVFVOREVWL0ROUwoJCQkJCWNs
b3NlCgkJCQlFT0YKCQkJCTs7CgkJZXNhYwoJZmkKfQojID09PSByZXNvbHYuY29uZiBoYW5kbGlu
ZyB2aWEgL3NiaW4vbmV0Y29uZmlnIChTdXNlIDExLjEpID09PT09PT09PT09PT09PT09PT09PQoK
IyBTdXNlIHByb3ZpZGVzIGEgc2NyaXB0IHRoYXQgbW9kaWZpZXMgcmVzb2x2LmNvbmYuIFVzZSBp
dCBiZWNhdXNlIGl0IHdpbGwKIyByZXN0YXJ0L3JlbG9hZCBhbGwgb3RoZXIgc2VydmljZXMgdGhh
dCBjYXJlIGFib3V0IGl0IChlLmcuIGx3cmVzZCkuICBbdW5jbGVhciBpZiB0aGlzIGlzIHN0aWxs
IHRydWUsIGJ1dCBwcm9iYWJseSAtLW1sa10KCm1vZGlmeV9yZXNvbHZjb25mX3N1c2VfbmV0Y29u
ZmlnKCkKewoJL3NiaW4vbmV0Y29uZmlnIG1vZGlmeSAtcyB2cG5jIC1pICIkVFVOREVWIiA8PC1F
T0YKCQlJTlRFUkZBQ0U9JyRUVU5ERVYnCgkJRE5TU0VSVkVSUz0nJElOVEVSTkFMX0lQNF9ETlMn
CgkJRE5TRE9NQUlOPSckQ0lTQ09fREVGX0RPTUFJTicKCQlFT0YKfQojIFJlc3RvcmUgcmVzb2x2
LmNvbmYgdG8gb2xkIGNvbnRlbnRzIG9uIFN1c2UKcmVzdG9yZV9yZXNvbHZjb25mX3N1c2VfbmV0
Y29uZmlnKCkKewoJL3NiaW4vbmV0Y29uZmlnIHJlbW92ZSAtcyB2cG5jIC1pICIkVFVOREVWIgp9
CgojID09PSByZXNvbHYuY29uZiBoYW5kbGluZyB2aWEgL3NiaW4vbW9kaWZ5X3Jlc29sdmNvbmYg
KFN1c2UpID09PT09PT09PT09PT09PT09PT09PQoKIyBTdXNlIHByb3ZpZGVzIGEgc2NyaXB0IHRo
YXQgbW9kaWZpZXMgcmVzb2x2LmNvbmYuIFVzZSBpdCBiZWNhdXNlIGl0IHdpbGwKIyByZXN0YXJ0
L3JlbG9hZCBhbGwgb3RoZXIgc2VydmljZXMgdGhhdCBjYXJlIGFib3V0IGl0IChlLmcuIGx3cmVz
ZCkuCgptb2RpZnlfcmVzb2x2Y29uZl9zdXNlKCkKewoJRlVMTF9TQ1JJUFROQU1FPWByZWFkbGlu
ayAtZiAkMGAKCVJFU09MVl9PUFRTPScnCgl0ZXN0IC1uICIkSU5URVJOQUxfSVA0X0ROUyIgJiYg
UkVTT0xWX09QVFM9Ii1uIFwiJElOVEVSTkFMX0lQNF9ETlNcIiIKCXRlc3QgLW4gIiRDSVNDT19E
RUZfRE9NQUlOIiAmJiBSRVNPTFZfT1BUUz0iJFJFU09MVl9PUFRTIC1kICRDSVNDT19ERUZfRE9N
QUlOIgoJdGVzdCAtbiAiJFJFU09MVl9PUFRTIiAmJiBldmFsIC9zYmluL21vZGlmeV9yZXNvbHZj
b25mIG1vZGlmeSAtcyB2cG5jIC1wICRTQ1JJUFROQU1FIC1mICRGVUxMX1NDUklQVE5BTUUgLWUg
JFRVTkRFViAkUkVTT0xWX09QVFMgLXQgXCJUaGlzIGZpbGUgd2FzIGNyZWF0ZWQgYnkgJFNDUklQ
VE5BTUVcIgp9CgojIFJlc3RvcmUgcmVzb2x2LmNvbmYgdG8gb2xkIGNvbnRlbnRzIG9uIFN1c2UK
cmVzdG9yZV9yZXNvbHZjb25mX3N1c2UoKQp7CglGVUxMX1NDUklQVE5BTUU9YHJlYWRsaW5rIC1m
ICQwYAoJL3NiaW4vbW9kaWZ5X3Jlc29sdmNvbmYgcmVzdG9yZSAtcyB2cG5jIC1wICRTQ1JJUFRO
QU1FIC1mICRGVUxMX1NDUklQVE5BTUUgLWUgJFRVTkRFVgp9CgojID09PSByZXNvbHYuY29uZiBo
YW5kbGluZyB2aWEgVUNJIChPcGVuV1JUKSA9PT09PT09PT0KCm1vZGlmeV9yZXNvbHZjb25mX29w
ZW53cnQoKSB7CglhZGRfZG5zICRPUEVOV1JUX0lOVEVSRkFDRSAkSU5URVJOQUxfSVA0X0ROUwp9
CgpyZXN0b3JlX3Jlc29sdmNvbmZfb3BlbndydCgpIHsKCXJlbW92ZV9kbnMgJE9QRU5XUlRfSU5U
RVJGQUNFCn0KIyA9PT0gcmVzb2x2LmNvbmYgaGFuZGxpbmcgdmlhIC9zYmluL3Jlc29sdmNvbmYg
KERlYmlhbiwgVWJ1bnR1LCBHZW50b28pKSA9PT09PT09PT0KCm1vZGlmeV9yZXNvbHZjb25mX21h
bmFnZXIoKSB7CglORVdfUkVTT0xWQ09ORj0iIgoJZm9yIGkgaW4gJElOVEVSTkFMX0lQNF9ETlM7
IGRvCgkJTkVXX1JFU09MVkNPTkY9IiRORVdfUkVTT0xWQ09ORgpuYW1lc2VydmVyICRpIgoJZG9u
ZQoJaWYgWyAtbiAiJENJU0NPX0RFRl9ET01BSU4iIF07IHRoZW4KCQlORVdfUkVTT0xWQ09ORj0i
JE5FV19SRVNPTFZDT05GCmRvbWFpbiAkQ0lTQ09fREVGX0RPTUFJTiIKCWZpCgllY2hvICIkTkVX
X1JFU09MVkNPTkYiIHwgL3NiaW4vcmVzb2x2Y29uZiAtYSAkVFVOREVWCn0KCnJlc3RvcmVfcmVz
b2x2Y29uZl9tYW5hZ2VyKCkgewoJL3NiaW4vcmVzb2x2Y29uZiAtZCAkVFVOREVWCn0KCiMgPT09
PT09PT09IFRvcGxldmVsIHN0YXRlIGhhbmRsaW5nICA9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KCmtlcm5lbF9pc18yXzZfb3JfYWJvdmUoKSB7CgljYXNlIGB1bmFtZSAt
cmAgaW4KCQkxLip8Mi5bMDEyMzQ1XSopCgkJCXJldHVybiAxCgkJCTs7CgkJKikKCQkJcmV0dXJu
IDAKCQkJOzsKCWVzYWMKfQoKZG9fcHJlX2luaXQoKSB7CglpZiBbICIkT1MiID0gIkxpbnV4IiBd
OyB0aGVuCgkJaWYgKGV4ZWMgNjw+IC9kZXYvbmV0L3R1bikgPiAvZGV2L251bGwgMj4mMSA7IHRo
ZW4KCQkJOgoJCWVsc2UgIyBjYW4ndCBvcGVuIC9kZXYvbmV0L3R1bgoJCQl0ZXN0IC1lIC9wcm9j
L3N5cy9rZXJuZWwvbW9kcHJvYmUgJiYgYGNhdCAvcHJvYy9zeXMva2VybmVsL21vZHByb2JlYCB0
dW4gMj4vZGV2L251bGwKCQkJIyBmaXggZm9yIGJyb2tlbiBkZXZmcyBpbiBrZXJuZWwgMi42LngK
CQkJaWYgWyAiYHJlYWRsaW5rIC9kZXYvbmV0L3R1bmAiID0gbWlzYy9uZXQvdHVuIFwKCQkJCS1h
ICEgLWUgL2Rldi9uZXQvbWlzYy9uZXQvdHVuIC1hIC1lIC9kZXYvbWlzYy9uZXQvdHVuIF0gOyB0
aGVuCgkJCQlsbiAtc2YgL2Rldi9taXNjL25ldC90dW4gL2Rldi9uZXQvdHVuCgkJCWZpCgkJCSMg
bWFrZSBzdXJlIHR1biBkZXZpY2UgZXhpc3RzCgkJCWlmIFsgISAtZSAvZGV2L25ldC90dW4gXTsg
dGhlbgoJCQkJbWtkaXIgLXAgL2Rldi9uZXQKCQkJCW1rbm9kIC1tIDA2NDAgL2Rldi9uZXQvdHVu
IGMgMTAgMjAwCgkJCQlbIC14IC9zYmluL3Jlc3RvcmVjb24gXSAmJiAvc2Jpbi9yZXN0b3JlY29u
IC9kZXYvbmV0L3R1bgoJCQlmaQoJCQkjIHdvcmthcm91bmQgZm9yIGEgcG9zc2libGUgbGF0ZW5j
eSBjYXVzZWQgYnkgdWRldiwgc2xlZXAgbWF4LiAxMHMKCQkJaWYga2VybmVsX2lzXzJfNl9vcl9h
Ym92ZSA7IHRoZW4KCQkJCWZvciB4IGluIGBzZXEgMTAwYCA7IGRvCgkJCQkJKGV4ZWMgNjw+IC9k
ZXYvbmV0L3R1bikgPiAvZGV2L251bGwgMj4mMSAmJiBicmVhazsKCQkJCQlzbGVlcCAwLjEKCQkJ
CWRvbmUKCQkJZmkKCQlmaQoJZWxpZiBbICIkT1MiID0gIkZyZWVCU0QiIF07IHRoZW4KCQlpZiBb
ICEgLWUgL2Rldi90dW4gXTsgdGhlbgoJCQlrbGRsb2FkIGlmX3R1bgoJCWZpCgllbGlmIFsgIiRP
UyIgPSAiR05VL2tGcmVlQlNEIiBdOyB0aGVuCgkJaWYgWyAhIC1lIC9kZXYvdHVuIF07IHRoZW4K
CQkJa2xkbG9hZCBpZl90dW4KCQlmaQoJZWxpZiBbICIkT1MiID0gIk5ldEJTRCIgXTsgdGhlbgoJ
CToKCWVsaWYgWyAiJE9TIiA9ICJPcGVuQlNEIiBdOyB0aGVuCgkJOgoJZWxpZiBbICIkT1MiID0g
IlN1bk9TIiBdOyB0aGVuCgkJOgoJZWxpZiBbICIkT1MiID0gIkRhcndpbiIgXTsgdGhlbgoJCToK
CWZpCn0KCmRvX2Nvbm5lY3QoKSB7CglpZiBbIC1uICIkQ0lTQ09fQkFOTkVSIiBdOyB0aGVuCgkJ
ZWNobyAiQ29ubmVjdCBCYW5uZXI6IgoJCWVjaG8gIiRDSVNDT19CQU5ORVIiIHwgd2hpbGUgcmVh
ZCBMSU5FIDsgZG8gZWNobyAifCIgIiRMSU5FIiA7IGRvbmUKCQllY2hvCglmaQoKCXNldF92cG5n
YXRld2F5X3JvdXRlCglkb19pZmNvbmZpZwoJaWYgWyAtbiAiJENJU0NPX1NQTElUX0lOQyIgXTsg
dGhlbgoJCWk9MAoJCXdoaWxlIFsgJGkgLWx0ICRDSVNDT19TUExJVF9JTkMgXSA7IGRvCgkJCWV2
YWwgTkVUV09SSz0iXCR7Q0lTQ09fU1BMSVRfSU5DXyR7aX1fQUREUn0iCgkJCWV2YWwgTkVUTUFT
Sz0iXCR7Q0lTQ09fU1BMSVRfSU5DXyR7aX1fTUFTS30iCgkJCWV2YWwgTkVUTUFTS0xFTj0iXCR7
Q0lTQ09fU1BMSVRfSU5DXyR7aX1fTUFTS0xFTn0iCgkJCWlmIFsgJE5FVFdPUksgIT0gIjAuMC4w
LjAiIF07IHRoZW4KCQkJCXNldF9uZXR3b3JrX3JvdXRlICIkTkVUV09SSyIgIiRORVRNQVNLIiAi
JE5FVE1BU0tMRU4iCgkJCWVsc2UKCQkJCXNldF9kZWZhdWx0X3JvdXRlCgkJCWZpCgkJCWk9YGV4
cHIgJGkgKyAxYAoJCWRvbmUKCQlmb3IgaSBpbiAkSU5URVJOQUxfSVA0X0ROUyA7IGRvCgkJCWVj
aG8gIiRpIiB8IGdyZXAgOiA+L2Rldi9udWxsIHx8IFwKCQkJCXNldF9uZXR3b3JrX3JvdXRlICIk
aSIgIjI1NS4yNTUuMjU1LjI1NSIgIjMyIgoJCWRvbmUKCWVsaWYgWyAtbiAiJElOVEVSTkFMX0lQ
NF9BRERSRVNTIiBdOyB0aGVuCgkJc2V0X2RlZmF1bHRfcm91dGUKCWZpCglpZiBbIC1uICIkQ0lT
Q09fSVBWNl9TUExJVF9JTkMiIF07IHRoZW4KCQlpPTAKCQl3aGlsZSBbICRpIC1sdCAkQ0lTQ09f
SVBWNl9TUExJVF9JTkMgXSA7IGRvCgkJCWV2YWwgTkVUV09SSz0iXCR7Q0lTQ09fSVBWNl9TUExJ
VF9JTkNfJHtpfV9BRERSfSIKCQkJZXZhbCBORVRNQVNLTEVOPSJcJHtDSVNDT19JUFY2X1NQTElU
X0lOQ18ke2l9X01BU0tMRU59IgoJCQlpZiBbICRORVRNQVNLTEVOIC1sdCAxMjggXTsgdGhlbgoJ
CQkJc2V0X2lwdjZfbmV0d29ya19yb3V0ZSAiJE5FVFdPUksiICIkTkVUTUFTS0xFTiIKCQkJZWxz
ZQoJCQkJc2V0X2lwdjZfZGVmYXVsdF9yb3V0ZQoJCQlmaQoJCQlpPWBleHByICRpICsgMWAKCQlk
b25lCgkJZm9yIGkgaW4gJElOVEVSTkFMX0lQNF9ETlMgOyBkbwoJCQlpZiBlY2hvICIkaSIgfCBn
cmVwIDogPi9kZXYvbnVsbDsgdGhlbgoJCQkJc2V0X2lwdjZfbmV0d29ya19yb3V0ZSAiJGkiICIx
MjgiCgkJCWZpCgkJZG9uZQoJZWxpZiBbIC1uICIkSU5URVJOQUxfSVA2X05FVE1BU0siIC1vIC1u
ICIkSU5URVJOQUxfSVA2X0FERFJFU1MiIF07IHRoZW4KCQlzZXRfaXB2Nl9kZWZhdWx0X3JvdXRl
CglmaQoKCWlmIFsgLW4gIiRJTlRFUk5BTF9JUDRfRE5TIiBdOyB0aGVuCgkJJE1PRElGWVJFU09M
VkNPTkYKCWZpCn0KCmRvX2Rpc2Nvbm5lY3QoKSB7CglpZiBbIC1uICIkQ0lTQ09fU1BMSVRfSU5D
IiBdOyB0aGVuCgkJaT0wCgkJd2hpbGUgWyAkaSAtbHQgJENJU0NPX1NQTElUX0lOQyBdIDsgZG8K
CQkJZXZhbCBORVRXT1JLPSJcJHtDSVNDT19TUExJVF9JTkNfJHtpfV9BRERSfSIKCQkJZXZhbCBO
RVRNQVNLPSJcJHtDSVNDT19TUExJVF9JTkNfJHtpfV9NQVNLfSIKCQkJZXZhbCBORVRNQVNLTEVO
PSJcJHtDSVNDT19TUExJVF9JTkNfJHtpfV9NQVNLTEVOfSIKCQkJaWYgWyAkTkVUV09SSyAhPSAi
MC4wLjAuMCIgXTsgdGhlbgoJCQkJIyBGSVhNRTogVGhpcyBkb2Vzbid0IHJlc3RvcmUgcHJldmlv
dXNseSBvdmVyd3JpdHRlbgoJCQkJIyAgICAgICAgcm91dGVzLgoJCQkJZGVsX25ldHdvcmtfcm91
dGUgIiRORVRXT1JLIiAiJE5FVE1BU0siICIkTkVUTUFTS0xFTiIKCQkJZWxzZQoJCQkJcmVzZXRf
ZGVmYXVsdF9yb3V0ZQoJCQlmaQoJCQlpPWBleHByICRpICsgMWAKCQlkb25lCgkJZm9yIGkgaW4g
JElOVEVSTkFMX0lQNF9ETlMgOyBkbwoJCQlkZWxfbmV0d29ya19yb3V0ZSAiJGkiICIyNTUuMjU1
LjI1NS4yNTUiICIzMiIKCQlkb25lCgllbHNlCgkJcmVzZXRfZGVmYXVsdF9yb3V0ZQoJZmkKCWlm
IFsgLW4gIiRDSVNDT19JUFY2X1NQTElUX0lOQyIgXTsgdGhlbgoJCWk9MAoJCXdoaWxlIFsgJGkg
LWx0ICRDSVNDT19JUFY2X1NQTElUX0lOQyBdIDsgZG8KCQkJZXZhbCBORVRXT1JLPSJcJHtDSVND
T19JUFY2X1NQTElUX0lOQ18ke2l9X0FERFJ9IgoJCQlldmFsIE5FVE1BU0tMRU49Ilwke0NJU0NP
X0lQVjZfU1BMSVRfSU5DXyR7aX1fTUFTS0xFTn0iCgkJCWlmIFsgJE5FVE1BU0tMRU4gLWVxIDAg
XTsgdGhlbgoJCQkJcmVzZXRfaXB2Nl9kZWZhdWx0X3JvdXRlCgkJCWVsc2UKCQkJCWRlbF9pcHY2
X25ldHdvcmtfcm91dGUgIiRORVRXT1JLIiAiJE5FVE1BU0tMRU4iCgkJCWZpCgkJCWk9YGV4cHIg
JGkgKyAxYAoJCWRvbmUKCQlmb3IgaSBpbiAkSU5URVJOQUxfSVA2X0ROUyA7IGRvCgkJCWRlbF9p
cHY2X25ldHdvcmtfcm91dGUgIiRpIiAiMTI4IgoJCWRvbmUKCWVsaWYgWyAtbiAiJElOVEVSTkFM
X0lQNl9ORVRNQVNLIiAtbyAtbiAiJElOVEVSTkFMX0lQNl9BRERSRVNTIiBdOyB0aGVuCgkJcmVz
ZXRfaXB2Nl9kZWZhdWx0X3JvdXRlCglmaQoKCWRlbF92cG5nYXRld2F5X3JvdXRlCgoJaWYgWyAt
biAiJElOVEVSTkFMX0lQNF9ETlMiIF07IHRoZW4KCQkkUkVTVE9SRVJFU09MVkNPTkYKCWZpCglk
ZXN0cm95X3R1bl9kZXZpY2UKfQoKIyMjIyBNYWluCgppZiBbIC16ICIkcmVhc29uIiBdOyB0aGVu
CgllY2hvICJ0aGlzIHNjcmlwdCBtdXN0IGJlIGNhbGxlZCBmcm9tIHZwbmMiIDE+JjIKCWV4aXQg
MQpmaQoKY2FzZSAiJHJlYXNvbiIgaW4KCXByZS1pbml0KQoJCXJ1bl9ob29rcyBwcmUtaW5pdAoJ
CWRvX3ByZV9pbml0CgkJOzsKCWNvbm5lY3QpCgkJcnVuX2hvb2tzIGNvbm5lY3QKCQlkb19jb25u
ZWN0CgkJcnVuX2hvb2tzIHBvc3QtY29ubmVjdAoJCTs7CglkaXNjb25uZWN0KQoJCXJ1bl9ob29r
cyBkaXNjb25uZWN0CgkJZG9fZGlzY29ubmVjdAoJCXJ1bl9ob29rcyBwb3N0LWRpc2Nvbm5lY3QK
CQk7OwoJcmVjb25uZWN0KQoJCXJ1bl9ob29rcyByZWNvbm5lY3QKCQk7OwoJKikKCQllY2hvICJ1
bmtub3duIHJlYXNvbiAnJHJlYXNvbicuIE1heWJlIHZwbmMtc2NyaXB0IGlzIG91dCBvZiBkYXRl
IiAxPiYyCgkJZXhpdCAxCgkJOzsKZXNhYwoKZXhpdCAwCg==" | base64 -d > $PKG/etc/vpnc/vpnc-script
chmod 0755 $PKG/etc/vpnc/vpnc-script
}

###################################
## BLOQUE PRINCIPAL DE EJECUCION ##
###################################
# Si se cierra el script inesperadamente, ejecutar la funcion de limpieza
trap f_exitmode SIGHUP SIGINT

#Inicializamos las variables globales
f_variables
#Comprobamos conexion a Internet
f_comprobarConexion
#Inicializamos las variables del script
F_variables
#Creamos directorio de trabajo
f_directorioTemporal
#Mostramos el mensaje de presentacion
f_presentacion
#Comprobamos updates del script
f_comprobarUpdates
#Asignamos o detectamos arquitectura
f_arquitectura
#Comprobamos version instalada del paquete
f_versionInstalada
#Si no existe el fichero se descargara
f_download
#Preparamos entorno
f_preparar
#Descomprimir fichero descargado y compilamos
F_compilar
#Hacemos strip sobre el paquete
f_strip
#Creamos xzm , instalamos y salimos
f_tareasFinales